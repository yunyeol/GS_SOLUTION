<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="SQL.FILE.UPLOAD">

    <select id="selectFileUploadSchdlList" resultType="Target">
        SELECT
            SCHDL_ID schdlId,
            ADDRESS_GRP_ID addressGrpId,
            SEND_GUBUN sendGubun,
            SEND_TYPE sendType,
            FILE_UPLOAD_YN fileUploadYn,
            TARGET_FILE_PATH targetFilePath
        FROM GS_SEND_SCHDL
        WHERE SEND_GUBUN = 'M'
        AND SEND_TYPE = 'C_F'
        AND SEND_FLAG = '00'
        AND FILE_UPLOAD_YN = 'Y'
    </select>

    <update id="updateTargetFileNotExists">
        UPDATE GS_SEND_SCHDL SET SEND_FLAG = '12' WHERE SCHDL_ID = ${schdlId}
    </update>

</mapper>

